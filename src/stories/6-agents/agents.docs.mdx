import { Meta, Canvas } from '@storybook/blocks';
import * as AgentStories from './agents.stories'

<Meta title="Agents/Intro" />

# Agents

<p>
  [Agents](https://js.langchain.com/docs/modules/agents/agents/) are wrappers around the chains we learned about earlier.
  These agents have special prompts that give them access to tools and task decision making.
</p>


## MRKL Agent

This agent is based on the [MRKL](https://arxiv.org/abs/2205.00445v1) paper and gives our agent the ability to reflect
on it's decisions and execute tasks leveraging tools and other provided resources

```js
import { initializeAgentExecutorWithOptions } from 'langchain/agents';
import { OpenAI } from 'langchain/llms/openai';
import { SerpAPI } from 'langchain/tools';
import { Calculator } from 'langchain/tools/calculator';

// instantiate our model
const model = new OpenAI({ openAIApiKey: OpenAIKey, temperature: 0 });

// define our tools
const tools = [
  new SerpAPI(SerpApiKey, {
    location: 'Austin,Texas,United States',
    hl: 'en',
    gl: 'us',
  }),
  new Calculator(),
];


export const runMrklAgent = async (query: string) => {
  const executor = await initializeAgentExecutorWithOptions(tools, model, {
    agentType: 'zero-shot-react-description',
    verbose: true,
  });
  const result = await executor.call({ input: query });
  return result.output;
};

```

### Try It Out

<Canvas of={AgentStories.MrklExample} />


## ChatMRKLAgent

This agent is similar to the last, except it has a memory system and a more conversational agent

Here we also use the `DynamicTool` constructor to see how we can create our own custom tools for our Agents 
to use

```js

import { initializeAgentExecutorWithOptions } from 'langchain/agents';
import { ChatOpenAI } from 'langchain/chat_models/openai';
import { SerpAPI } from 'langchain/tools';
import { Calculator } from 'langchain/tools/calculator';
import { openAi, pineconeEnv, pineconeIndexName, pineconeToken, serpApiKey } from '../../env';
import { DynamicTool } from 'langchain/tools';

const model = new ChatOpenAI({ openAIApiKey: openAi, temperature: 0 });

const tools = [
  new SerpAPI(serpApiKey, {
    location: 'Portland,Oregon,United States',
    hl: 'en',
    gl: 'us',
  }),
  new Calculator(),
  new DynamicTool({
    name: 'Foo Bar',
    description: 'call this to get the value of foo. input should be an empty string.',
    func: async () => 'bar',
  }),
];

export const runChatMrklAgent = async (query: string) => {
  const executor = await initializeAgentExecutorWithOptions(tools, model, {
    agentType: 'chat-zero-shot-react-description',
    verbose: true,
  });

  const input = query;

  const result = await executor.call({ input });

  return result.output;
};
```

### Try It Out

<Canvas of={AgentStories.ChatMrklExample} />